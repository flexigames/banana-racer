const mapText = `
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x_______________________xxxxxxxxxxxxx______________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x_______________xxxxxxxxxx____________x____________________x
x_______________xxxxxxxxxx_________________________________x
x_______________xxxxxxxxxx_____________________x___________x
x_______________xxxxxxxxxx_________________________________x
x_______________xxxxxxxxxx_________________________________x
x_______________xxxxxxxxxx_________________x_______________x
x_______________xxxxxxxxxx_________________________________x
x_______________xxxxxxxxxx_________________________________x
x_______________xxxxxxxxxx_________________________________x
x_______________xxxxxxxxxx_________________________________x
x_______________xxxxxxxxxx_________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x______________xxxxxxxxxx__________________________________x
x______________xxxxxxxxxx__________________________________x
x______________xxxxxxxxxx__________________________________x
x______________xxxxxxxxxx__________________________________x
x______________xxxxxxxxxx__________________________________x
x______________xxxxxxxxxx__________________________________x
x______________xxxxxxxxxx__________________________________x
x______________xxxxxxxxxx__________________________________x
x______________xxxxxxxxxx__________________________________x
x______________xxxxxxxxxx__________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
x__________________________________________________________x
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`;

export function loadMap() {
  try {
    const mapRows = mapText.trim().split("\n");

    const blocks = [];
    const mapSize = {
      width: mapRows[0]?.length || 0,
      height: mapRows.length || 0,
    };

    // Calculate offsets to center the map
    const halfWidth = mapSize.width / 2;
    const halfHeight = mapSize.height / 2;

    mapRows.forEach((mapRow, rowIndex) => {
      Array.from(mapRow).forEach((mapCell, columnIndex) => {
        if (mapCell === "x") {
          blocks.push({
            position: {
              x: columnIndex - halfWidth,
              y: 0,
              z: rowIndex - halfHeight,
            },
            size: {
              x: 1,
              y: 2,
              z: 1,
            },
          });
        }
      });
    });
    return { blocks, mapSize };
  } catch (error) {
    console.error("Error loading map:", error);
    return { blocks: [], mapSize: { width: 0, height: 0 } };
  }
}

const { blocks, mapSize } = loadMap();


export { blocks, mapSize };
